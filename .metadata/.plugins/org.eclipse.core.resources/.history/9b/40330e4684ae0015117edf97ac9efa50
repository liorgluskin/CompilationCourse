
############################################
# String literals
str_null_ref: "Runtime Error: Null pointer dereference!"
str_array_access: "Runtime Error: Array index out of bounds!"
str_size: "Runtime Error: Array allocation with negative array size!"
str_zero: "Runtime Error: Division by zero!"
str2: ""
str1: " "
############################################

############################################
# Dispatch vectors
_DV_ArrayBub: [_ArrayBub_init,_ArrayBub_bubbleSort,_ArrayBub_test,_ArrayBub_swap,_ArrayBub_display,_ArrayBub_insert]
############################################

############################################
# Runtime Checks
__checkNullRef:
Return Rdummy
__checkArrayAccess:
Return Rdummy
__checkSize:
Return Rdummy
__checkZero:
Return Rdummy
############################################



####ArrayBub.init####
_ArrayBub_init:
Move 10,R1
Move R1,R2
StaticCall __checkSize(n=R2),Rdummy
Move R2,R3
Mul 4,R3
Library __allocateArray(R3),R4
_array_init_start0: 
Dec R2
Compare 0,R2
JumpL _array_init_end1
MoveArray 0,R4[R2]
JumpL _array_init_start0
_array_init_end1: 
Move this,R5
MoveField R4,R5.1
Move 0,R6
MoveField R6,R5.2
Return Rdummy

####ArrayBub.insert####
_ArrayBub_insert:
Move this,R7
MoveField R7.1,R8
StaticCall __checkNullRef(a=R7),Rdummy
MoveField R7.2,R9
StaticCall __checkArrayAccess(a=R8,i=R9),Rdummy
Move p_0,R10
MoveArray R10,R8[R9]
Move 1,R11
MoveField R7.2,R12
Add R11,R12
MoveField R12,R7.2
Return Rdummy

####ArrayBub.display####
_ArrayBub_display:
Move 0,R14
Move R14,v_2_i
_while_test_label2: 
Move this,R15
Move v_2_i,R16
MoveField R15.2,R17
Compare R17,R16
JumpL _true_label4
Move 0,R16
Jump _end_label4
_true_label4:
Move 1,R16
_end_label4:
# line number: 25
Compare 0,R16
JumpTrue _while_end_label3
MoveField R15.1,R19
StaticCall __checkNullRef(a=R15),Rdummy
Move v_2_i,R20
StaticCall __checkArrayAccess(a=R19,i=R20),Rdummy
MoveArray R19[R20],R21
Library __printi(R21),Rdummy
Move str1,R22
Library __print(R22),Rdummy
Move 1,R23
Move v_2_i,R24
Add R23,R24
Move R24,v_2_i
Jump _while_test_label2
_while_end_label3: 
Move str2,R26
Library __println(R26),Rdummy
Return Rdummy

####ArrayBub.bubbleSort####
_ArrayBub_bubbleSort:
Move this,R27
Move 1,R28
MoveField R27.2,R29
Sub R28,R29
Move R29,v_3_out
_while_test_label5: 
Move 1,R31
Move v_3_out,R32
Compare R31,R32
JumpG _true_label7
Move 0,R32
Jump _end_label7
_true_label7:
Move 1,R32
_end_label7:
# line number: 37
Compare 0,R32
JumpTrue _while_end_label6
Move 0,R34
Move R34,v_4_in
_while_test_label8: 
Move v_4_in,R35
Compare v_3_out,R35
JumpL _true_label10
Move 0,R35
Jump _end_label10
_true_label10:
Move 1,R35
_end_label10:
# line number: 39
Compare 0,R35
JumpTrue _while_end_label9
MoveField R27.1,R37
StaticCall __checkNullRef(a=R27),Rdummy
Move v_4_in,R38
StaticCall __checkArrayAccess(a=R37,i=R38),Rdummy
MoveField R27.1,R39
StaticCall __checkNullRef(a=R27),Rdummy
Move 1,R40
Move v_4_in,R41
Add R40,R41
StaticCall __checkArrayAccess(a=R39,i=R41),Rdummy
MoveArray R37[R38],R43
MoveArray R39[R41],R44
Compare R44,R43
JumpG _true_label13
Move 0,R43
Jump _end_label13
_true_label13:
Move 1,R43
_end_label13:
# line number: 40
Compare 0,R43
JumpTrue _end_if_label12
#virtual call to swap's location:
Move 1,R46
Move v_4_in,R47
Add R46,R47
VirtualCall R27.3(p_0=v_4_in,p_1=R47),Rdummy
Jump _end_if_label12
_end_if_label12: 
Move 1,R49
Move v_4_in,R50
Add R49,R50
Move R50,v_4_in
Jump _while_test_label8
_while_end_label9: 
Move 1,R52
Move v_3_out,R53
Sub R52,R53
Move R53,v_3_out
Jump _while_test_label5
_while_end_label6: 
Return Rdummy

####ArrayBub.swap####
_ArrayBub_swap:
Move this,R55
MoveField R55.1,R56
StaticCall __checkNullRef(a=R55),Rdummy
Move p_0,R57
StaticCall __checkArrayAccess(a=R56,i=R57),Rdummy
MoveArray R56[R57],R58
Move R58,v_5_temp
MoveField R55.1,R59
StaticCall __checkNullRef(a=R55),Rdummy
Move p_1,R60
StaticCall __checkArrayAccess(a=R59,i=R60),Rdummy
MoveField R55.1,R61
StaticCall __checkNullRef(a=R55),Rdummy
Move p_0,R62
StaticCall __checkArrayAccess(a=R61,i=R62),Rdummy
MoveArray R59[R60],R63
MoveArray R63,R61[R62]
MoveField R55.1,R64
StaticCall __checkNullRef(a=R55),Rdummy
Move p_1,R65
StaticCall __checkArrayAccess(a=R64,i=R65),Rdummy
Move v_5_temp,R66
MoveArray R66,R64[R65]
Return Rdummy

####ArrayBub.test####
_ArrayBub_test:
Library __allocateObject(12),R68
MoveField _DV_ArrayBub,R68.0
Move R68,v_6_arr
#virtual call to init's location:
Move v_6_arr,R69
StaticCall __checkNullRef(a=v_6_arr),Rdummy
VirtualCall R69.0(),Rdummy
#virtual call to insert's location:
Move v_6_arr,R70
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 77,R71
VirtualCall R70.5(p_0=R71),Rdummy
#virtual call to insert's location:
Move v_6_arr,R72
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 99,R73
VirtualCall R72.5(p_0=R73),Rdummy
#virtual call to insert's location:
Move v_6_arr,R74
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 44,R75
VirtualCall R74.5(p_0=R75),Rdummy
#virtual call to insert's location:
Move v_6_arr,R76
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 55,R77
VirtualCall R76.5(p_0=R77),Rdummy
#virtual call to insert's location:
Move v_6_arr,R78
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 22,R79
VirtualCall R78.5(p_0=R79),Rdummy
#virtual call to insert's location:
Move v_6_arr,R80
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 88,R81
VirtualCall R80.5(p_0=R81),Rdummy
#virtual call to insert's location:
Move v_6_arr,R82
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 11,R83
VirtualCall R82.5(p_0=R83),Rdummy
#virtual call to insert's location:
Move v_6_arr,R84
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 0,R85
VirtualCall R84.5(p_0=R85),Rdummy
#virtual call to insert's location:
Move v_6_arr,R86
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 66,R87
VirtualCall R86.5(p_0=R87),Rdummy
#virtual call to insert's location:
Move v_6_arr,R88
StaticCall __checkNullRef(a=v_6_arr),Rdummy
Move 33,R89
VirtualCall R88.5(p_0=R89),Rdummy
#virtual call to display's location:
Move v_6_arr,R90
StaticCall __checkNullRef(a=v_6_arr),Rdummy
VirtualCall R90.4(),Rdummy
#virtual call to bubbleSort's location:
Move v_6_arr,R91
StaticCall __checkNullRef(a=v_6_arr),Rdummy
VirtualCall R91.1(),Rdummy
#virtual call to display's location:
Move v_6_arr,R92
StaticCall __checkNullRef(a=v_6_arr),Rdummy
VirtualCall R92.4(),Rdummy
Return Rdummy

####main in ArrayBub####
_ic_main:
#virtual call to test's location:
Library __allocateObject(12),R67
MoveField _DV_ArrayBub,R67.0
StaticCall __checkNullRef(a=R67),Rdummy
VirtualCall R67.2(),Rdummy

Done
